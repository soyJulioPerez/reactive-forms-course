<div class="card">
  <div class="card-header">
    Sign Up!
  </div>

  <div class="card-body row">
    <div class="col-8 border-right">
      <form novalidate (ngSubmit)="save(signupForm)" #signupForm="ngForm">

        <div class="form-group row mb-2"> <!-- First name -->
          <label class="col-md-3 col-form-label" for="firstNameId">First name</label>
          <div class="col-md-9">
            <input class="form-control" type="text" placeholder="First Name (required)"
              required
              minlength="3"
              [(ngModel)]=customer.firstName name="firstName" #firstNameVar="ngModel"
              [ngClass]="{'is-invalid': (firstNameVar.touched || firstNameVar.dirty) && !firstNameVar.valid }" />
            <span class="invalid-feedback">
              <span *ngIf="firstNameVar.errors?.required">
                Please enter your first name.
              </span>
              <span *ngIf="firstNameVar.errors?.minlength">
                The first name must be longer than 3 characters.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2"> <!-- Last Name -->
          <label class="col-md-3 col-form-label" for="lastNameId">Last Name</label>
          <div class="col-md-9">
            <input class="form-control" type="text" placeholder="Last Name (required)"
              required
              maxlength="50"
              [(ngModel)]="customer.lastName" name="lastName" #lastNameVar="ngModel"
              [ngClass]="{'is-invalid': (lastNameVar.touched || lastNameVar.dirty) && !lastNameVar.valid }" />
            <span class="invalid-feedback">
              <span *ngIf="lastNameVar.errors?.required">
                Please enter your last name.
              </span>
              <span *ngIf="lastNameVar.errors?.maxlength">
                The last name must be less than 50 characters.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2"> <!-- EMAIL -->
          <label class="col-md-3 col-form-label" for="emailId">Email</label>
          <div class="col-md-9">
            <input class="form-control" type="email" placeholder="Email (required)"
              required email
              [(ngModel)]="customer.email" name="email" #emailVar="ngModel"
              [ngClass]="{'is-invalid': (emailVar.touched || emailVar.dirty) && !emailVar.valid }" />
            <span class="invalid-feedback">
              <span *ngIf="emailVar.errors?.required">
                Please enter your email address.
              </span>
              <span *ngIf="emailVar.errors?.email">
                Please enter a valid email address.
              </span>
            </span>
          </div>
        </div>

        <div class="form-group row mb-2"> <!-- Send me your catalog -->
          <div class="col-md-9 offset-3">
            <div class="form-check">
              <label class="form-check-label">
                <input class="form-check-input" type="checkbox"
                  [(ngModel)]="customer.sendCatalog" name="sendCatalog">
                Send me your catalog
              </label>
            </div>
          </div>
        </div>

        <div *ngIf="customer.sendCatalog"> <!-- ADDRESS -->
          <div class="form-group row mb-2"> <!-- Address Type -->
            <label class="col-md-3 col-form-label pt-0">Address Type</label>
            <div class="col-md-9">
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" value="home"
                    [(ngModel)]="customer.addressType" name="addressType">
                  Home
                </label>
              </div>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" value="work"
                    [(ngModel)]="customer.addressType" name="addressType">
                  Work
                </label>
              </div>
              <div class="form-check form-check-inline">
                <label class="form-check-label">
                  <input class="form-check-input" type="radio" value="other"
                    [(ngModel)]="customer.addressType" name="addressType">
                  Other
                </label>
              </div>
            </div>
          </div>

          <div class="form-group row mb-2"> <!-- Street Address 1 -->
            <label class="col-md-3 col-form-label" for="street1Id">Street Address 1</label>
            <div class="col-md-9">
              <input class="form-control" type="text" placeholder="Street address"
                [(ngModel)]="customer.street1" name="street1">
            </div>
          </div>

          <div class="form-group row mb-2"> <!-- Street Address 2 -->
            <label class="col-md-3 col-form-label" for="street2Id">Street Address 2</label>
            <div class="col-md-9">
              <input class="form-control" type="text" placeholder="Street address (second line)"
                [(ngModel)]="customer.street2" name="street2">
            </div>
          </div>

          <div class="form-group row mb-2"> <!-- City, State, Zip Code -->
            <label class="col-md-3 col-form-label" for="cityId">City, State, Zip Code</label>
            <div class="col-md-3">
              <input class="form-control" type="text" placeholder="City"
                [(ngModel)]="customer.city" name="city">
            </div>
            <div class="col-md-3">
              <select class="form-control"
                [(ngModel)]="customer.state" name="state">
                <option value="" disabled selected hidden>Select a State...</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
              </select>
            </div>
            <div class="col-md-3">
              <input class="form-control" type="number" placeholder="Zip Code"
                [(ngModel)]="customer.zip" name="zip">
            </div>
          </div>
        </div>

        <div class="form-group row mt-4">
          <div class="offset-md-4 col-md-4">
            <button class="btn btn-block btn-primary" type="submit"
              [title]="signupForm.valid ? 'Save your entered data' : 'Disabled until the form data is valid'"
              [disabled]="!signupForm.valid">
              Save
            </button>
          </div>
        </div>
      </form>
    </div>
    <div class="col-4">
      <br>Dirty: {{ signupForm.dirty }}
      <br>Touched: {{ signupForm.touched }}
      <br>Valid: {{ signupForm.valid }}
      <br>Value: <pre>{{ signupForm.value | json }}</pre>
    </div>
  </div>
</div>
